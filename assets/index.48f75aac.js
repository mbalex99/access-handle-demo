var S=Object.defineProperty;var d=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var w=(e,r,a)=>r in e?S(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,y=(e,r)=>{for(var a in r||(r={}))x.call(r,a)&&w(e,a,r[a]);if(d)for(var a of d(r))p.call(r,a)&&w(e,a,r[a]);return e};var E=(e,r)=>{var a={};for(var o in e)x.call(e,o)&&r.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&d)for(var o of d(e))r.indexOf(o)<0&&p.call(e,o)&&(a[o]=e[o]);return a};import{R as t,c as k,r as m,g as b,a as A}from"./vendor.58c4ff87.js";const B=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}};B();const T=({title:e})=>t.createElement("header",{className:"bg-white shadow"},t.createElement("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},t.createElement("h1",{className:"text-3xl font-bold leading-tight text-gray-900"},e)));function v(o){var n=o,{className:e,children:r}=n,a=E(n,["className","children"]);return t.createElement("button",y({type:"button",className:k("inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",e)},a),r)}const R=()=>{m.exports.useState([]);const[e,r]=m.exports.useState(""),[a,o]=m.exports.useState("");async function n(){await b(async u=>{const s=await(await(await navigator.storage.getDirectory()).getFileHandle("foo.txt",{create:!0})).createSyncAccessHandle(),i=new TextEncoder().encode(u);s.write(i,{at:0}),await s.close()})(e),console.log("saved")}async function c(){const u=await b(async()=>{const s=await(await(await navigator.storage.getDirectory()).getFileHandle("foo.txt",{create:!0})).createSyncAccessHandle(),f=await s.getSize(),i=new ArrayBuffer(f);s.read(i,{at:0});const N=new TextDecoder,H=new Uint8Array(i),g=N.decode(H);return console.log("text read from disk",g),await s.close(),g})();o(u)}return m.exports.useEffect(()=>{c()},[]),t.createElement(t.Fragment,null,t.createElement(T,{title:"Access Handle Demo"}),t.createElement("main",null,t.createElement("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 grid grid-cols-2 gap-4"},t.createElement("div",null,t.createElement("h2",null,"File Editor"),t.createElement("textarea",{value:e,onChange:l=>{r(l.currentTarget.value)},className:"resize-y w-full rounded-md bg-black text-white p-4"}),t.createElement("div",{className:"grid grid-cols-2 gap-2"},t.createElement(v,{className:"mb-3",onClick:()=>{n()}},"Save"))),t.createElement("div",null,t.createElement("h2",null,"File Reader"),t.createElement("p",{className:"w-full rounded-md bg-black text-white p-4 mb-3 font-mono"},a),t.createElement("div",{className:"grid grid-cols-2 gap-2"},t.createElement(v,{className:"mb-3",onClick:()=>{c()}},"Read from File"))))))},D=()=>t.createElement(R,null);A.render(t.createElement(t.StrictMode,null,t.createElement(D,null)),document.getElementById("root"));
